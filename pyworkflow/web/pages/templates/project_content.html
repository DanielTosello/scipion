{% extends 'base_flex.html' %}
{% block title %} - {{messages.label_project}}{{projectName}}{% endblock %}

{% block head %}
<!-- CSS -->
<link href={{project_content_css}} rel="stylesheet" type="text/css">
<script src={{jquery_treeview}} type="text/javascript"></script>
<style>
	.ui-state-active {
		/* background: DarkRed !important; */
		background: FireBrick !important;
		font-size: 0.9em !important;
		font-weight: bold !important;
		text-align: center !important;
		padding: 2px !important;
	}
	.ui-tabs-anchor{
		color: #000 !important;
		padding: .3em 1em !important;
	}
	.ui-state-active .ui-tabs-anchor{
		color: white !important;
	} 
</style>

<!-- JS Libs -->
<script src={{jquery_cookie}} type="text/javascript"></script>
<script src={{project_content_utils}} type="text/javascript"></script>
<script src={{graph_utils}} type="text/javascript"></script>
<script type="text/javascript">
	$(function() {
		$("#tabs").tabs();
	});
	
	jQuery(function($) {
		// Just call the inner layout once to initialize it. This
		// must happen before the outer layout is initialized. It
		// will be automatically resized when the outer layout is
		// resized.
		$('.layout-inner').layout();

		var outerContainer = $('.layout-outer');

		function layout() {
			outerContainer.layout({resize: false});
		}
		layout();

		$(window).resize(layout);
		
		
		{% if contentConfig == 'divided' %}
  			$('.layout-inner > .north').resizable({
				handles: 's',
				stop: layout
			});
			$('.layout-inner > .center').resizable({
				handles: 's',
				stop: layout
			});
/*   			$('.layout-inner > .center').resizable({
				handles: 'n',
				stop: layout
			});  */
		{% endif %}
		// This selector is changed to only select the west and east
		// components of the outer layout.
		$('.layout-outer > .west').resizable({
			handles: 'e',
			stop: layout
		});
	});
	
	$(document).ready(function() {
//    		refreshRuns(1);
	});	
	
</script>
{% endblock %} 

{% block sideLeft %}
<div id="westContainer">
	<div class="viewTree">
		<label>{{messages.label_workflow}}</label>
		<select id="viewsTree" name="viewsTree" onChange="javascript:changeTreeView();">
			{% for choice in choices %}
			 	<option value="{{forloop.counter0}}" {% if forloop.counter0 == choiceSelected %} selected {% endif %}>{{choice}}</option> 
			{% endfor %}
		</select>
	</div> 
	<div class="protFieldsetTree">
	{% include "tree_prot_view.html" %}
	</div>
</div>
{% endblock %} 

{% block contentNorth %}
<span id="toolbar" style="float:right;">
	<span id="treeTool">
		<a href="javascript:switchGraph();"><i class="fa fa-sitemap" style="margin-right:5px"></i>{{messages.label_tree}}</a>
	</span>
	<span id="listTool" style="display:none;">
		<a href="javascript:switchGraph();"><i class="fa fa-bars" style="margin-right:5px"></i>{{messages.label_list}}</a>
	</span>
	<span id="refreshTool" style="display:both;">
		<a href="javascript:refreshRuns(0);"><i class="fa fa-refresh fa-spin" style="margin-right:5px"></i>{{messages.label_refresh}}</a>
	</span>
</span>
<div id="toolbar" style="display: none;">
	<span><a id="editTool" href=""><i class="fa fa-pencil" style="margin-right:5px"></i>{{messages.label_edit}}</a></span>
	<span><a id="copyTool" href=""><i class="fa fa-copy" style="margin-right:5px"></i>{{messages.label_copy}}</a></span>
	<span><a id="deleteTool" href=""><i class="fa fa-trash-o" style="margin-right:5px"></i>{{messages.label_delete}}</a></span>
	<span><a id="browseTool" href=""><i class="fa fa-folder-open" style="margin-right:5px"></i>{{messages.label_browse}}</a></span>
	<span id="stopTool"><a id="stopTool" href=""><i class="fa fa-stop" style="margin-right:5px"></i>{{messages.label_stop}}</a></span>
	<span id="analyzeTool"><a id="analyzeTool" href=""><i class="fa fa-eye" style="margin-right:5px"></i>{{messages.label_analyze}}</a></span>
</div>
<div id="runsInfo">
	{% include "run_table_graph.html" %}
</div>
{% endblock %}

{% block contentCenter %}
<div class="tabContaier" id="tabs">
	<ul class="listTabs">
		<li><a href="#tab-data">{{messages.label_data}}</a></li>
		<li><a href="#tab-summary">{{messages.label_summary}}</a></li>
	</ul>
	<div id="tab-data" class="tabContents">
		<div id="listEx">
			<ul>
				<li>
					<strong>{{messages.label_input}}</strong>
					<ul id='protocol_input'></ul>
				</li>
				<br/>
				<li>
					<strong>{{messages.label_output}}</strong>
					<ul id='protocol_output'></ul>
				</li>
			</ul>
		</div>
	</div>
	<div id="tab-summary" class="tabContents">
			<p>{{messages.no_info_summary}}</p>
	</div>
</div>
{% endblock %}
