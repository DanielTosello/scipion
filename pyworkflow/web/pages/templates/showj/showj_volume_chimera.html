{% extends 'showj/showj_base.html' %} 
{% block head %}
<!-- TABLE STYLES 
Overwrite general section property for volume view with Chimera-->
<style type="text/css">
section {
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-pack: center;
  -webkit-box-align: center;
 
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-pack: center;
  -moz-box-align: center;
  
  display: box;
  box-orient: horizontal;
  box-pack: center;
  box-align: center;
}
</style>

<!-- JS -->
<script type="text/javascript" src="http://www.cgl.ucsf.edu/chimera/webgl/PhiloGL-1.3.0.js"></script>
<script src="{{jquery_ui}}"></script>

<!-- Init webgl -->
<script type="text/javascript">
$(document).ready(function(){
	webGLStart();
});
</script>

<script type="text/javascript">
function updateThreshold(){
	var threshold = $("input#thresholdValue").val();
	if (threshold == undefined){
		threshold = $("input#thresholdValue").attr("value");
	}
	
	$.ajax({
		type : "GET",
		url : "/chimera_headless/?volPath={{volPath}}&threshold="+threshold,
		dataType : "html",
		async: false,
		success : function(data) {
			$("div#chimeraContent1").html(data);
		}
	});	
}
</script>

{% endblock %}
{% block content_menu %}{% endblock %}
{% block content_view %}
{% endblock %}

{% block content_end_page %}
	<div id="chimeraContent">	
		{% include "showj/chimera.html" %}
	</div>
	<div id="chimeraContent1">	
	</div>
{% endblock %}
