<!DOCTYPE html>
<html lang='es'>
<head>
<title>Scipion {% block title %} {% endblock %}</title>
<meta charset='utf-8'>
<link rel="icon" type="image/png" href="/resources/scipion_bn.png" />
<link href="/static/css/general_style.css" rel="stylesheet"
	type="text/css">
<link type="text/css" href="/static/css/jquery-ui.css" rel="stylesheet" />
<script type="text/javascript" src="/static/js/jquery/jquery.js"></script>
<script type="text/javascript" src="/static/js/jsPlumb/jquery.jsPlumb.js"></script>
<script type="text/javascript" src="/static/js/jquery/jquery-ui.js"></script>
<script type="text/javascript" src="/static/js/messi/messi.js"></script>
<script type="text/javascript" src="/static/js/jquery/jquery.sizes.js"></script>
<script type="text/javascript" src="/static/js/jquery/jlayout.border.js"></script>
<script type="text/javascript" src="/static/js/jquery/jquery.jlayout.js"></script>
<script>
	jQuery(function($) {
		$('.layout-inner').layout();
	
		var outerContainer = $('.layout-outer');
	
		function layout() {
			outerContainer.layout({resize: false});
		}
		
// 		function layout() {
// 			outerContainer.layout({
// 				type: 'grid',
// 			    columns: 2,
// 			    rows: 2,
// 			    items: [
// 			        $('#component-1'),
// 			        $('#component-2'),
// 			        $('#component-3'),
// 			        $('#component-4')
// 			    ]
// 			});
// 		}
		
		layout();
	
		$(window).resize(layout);

		$('.north').resizable({
			handles: 's',
			stop: layout
		});
		
		$('.south').resizable({
			handles: 's',
			stop: layout
		});
		
		$('.west').resizable({
			handles: 'e',
			stop: layout
		});
	});

	function changeView(){
		selection = document.getElementById("viewsCombo").value;
		if (selection == "projects"){
			window.location.href = "/projects"
		} else if(selection == "protocols"){
			window.location.href = "/project_content/?projectName={{projectName}}"
		} else if (selection == "data"){
			alert("Not implemented yet")
		} else if (selection == "hosts"){
			window.location.href = "/view_hosts"
		}
	}
</script>
{% block head %} {% endblock %}
</head>

<body>
	<div data-layout='{"type": "border"}' class="layout-outer" id="wrapper">
		<div data-layout='{"type": "border"}' class="center layout-inner" id="wrapperContent">
			<div class="north" id="frameTop">
				{% block content %}
				{%endblock %}
			</div>	
			<div class="center" id="frameCenter">
				{% block contentDown %}	
				{%endblock %}
			</div>
		</div>
		<div class="west" id="frameLeft">
			{% block sideLeft %} {%endblock %}
		</div>
		<div class="north" id="frameTitle">
			<a href="/projects"><img class="logo" src="/resources/scipion_logo.png"
				alt="Scipion logo" /></a>  
				{% if projectName != None %}
					<span class="project_name" style="font-size:1.7em;">Project {{projectName}}</span> 
					<div class="view">
						<label>View: </label>
						<select id="viewsCombo" name="viewsCombo" onChange="javascript:changeView();">
							<!-- <option value=""></option> -->
							<option value="projects" {% if view == "projects" %} selected {% endif %}>Projects</option>							
							<option value="protocols" {% if view == "protocols" %} selected {% endif %}>Protocols</option>
							<option value="data" {% if view == "data" %} selected {% endif %}>Data</option>
							<option value="hosts" {% if view == "hosts" %} selected {% endif %}>Hosts</option>
						</select>
					</div> 
				{% endif %}	
		</div>
	</div>
</body>
</html>
